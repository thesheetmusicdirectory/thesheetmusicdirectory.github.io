<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dirty Deeds Done Dirt Cheap - AC/DC - The Sheet Music Directory</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore the classic song 'Dirty Deeds Done Dirt Cheap' by AC/DC. Find tabs, listen to the audio, and more.">
    <meta name="keywords" content="acdc, dirty deeds done dirt cheap, guitar, tabs, song">
    <meta name="author" content="Mattia Lobrano">
    <link rel="icon" href="The Guitar Directory (1).png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9724879624767701"
     crossorigin="anonymous"></script>
     <meta name="google-adsense-account" content="ca-pub-9724879624767701">
    <style>
        /* Custom styles to ensure proper layout */
        .tab-container {
            position: relative;
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 1rem;
        }
        .tab-content pre {
            white-space: pre;
            font-family: 'SF Mono', 'Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 1rem;
            line-height: 1.5;
            padding: 1.5rem;
            margin: 0;
        }
        /* Custom style for search input focus */
        .search-input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
            outline: none;
        }

        /* --- STILI SPECIFICI PER LA STAMPA --- */
        @media print {
            body {
                background: none !important; /* Rimuove lo sfondo del gradiente */
                color: black !important; /* Assicura testo nero */
            }

            /* Nasconde gli elementi che non vuoi stampare */
            header,
            #mobileNav,
            .flex-wrap.justify-center.items-center.gap-4, /* Contiene i pulsanti metronomo e preferiti */
            .flex-wrap.justify-center.items-center.gap-4.pt-2.border-t.border-gray-200, /* Contiene il pulsante Print Tab */
            footer,
            .search-input, /* La barra di ricerca */
            .tab-container + div { /* Se ci sono altri div dopo il tab-container che non vuoi */
                display: none !important;
            }

            /* Assicura che solo la sezione della tablatura sia visibile */
            main section {
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
                overflow: visible !important;
            }

            /* Rende la tablatura il focus principale */
            .tab-container {
                width: 100% !important;
                max-width: none !important;
                box-shadow: none !important;
                border: none !important;
                overflow: visible !important;
                padding-bottom: 0 !important;
            }

            .tab-content pre {
                padding: 0 !important;
                font-size: 0.8rem !important; /* Riduci la dimensione del font per far stare più tablatura */
                line-height: 1.2 !important; /* Riduci l'interlinea */
            }
        }
    </style>
</head>
<body class="bg-gradient-to-tr from-blue-100 via-white to-blue-200 min-h-screen text-gray-800 font-sans">

    <header class="bg-white/90 shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4">
            <a href="index.html" class="flex items-center gap-3">
                <img src="The Guitar Directory (1).png" alt="Logo"
                    class="w-12 h-12 object-cover rounded-xl shadow border border-blue-200">
                <span class="self-center text-2xl font-bold text-blue-700 tracking-tight">The Sheet Music Directory</span>
            </a>
            <button id="hamburgerBtn" class="md:hidden flex flex-col justify-center items-center w-10 h-10 rounded hover:bg-blue-100 transition" aria-label="Open menu">
                <span class="block w-6 h-0.5 bg-blue-700 mb-1"></span>
                <span class="block w-6 h-0.5 bg-blue-700 mb-1"></span>
                <span class="block w-6 h-0.5 bg-blue-700"></span>
            </button>
            <nav id="mainNav" class="hidden md:flex gap-8">
                <a href="index.html" class="text-blue-700 hover:text-blue-900 font-medium transition">Home</a>
                <a href="content.html" class="text-blue-700 hover:text-blue-900 font-medium transition">Content</a>
                <a href="videos.html" class="text-blue-700 hover:text-blue-900 font-medium transition">Videos</a>
                <a href="profile.html" class="text-blue-700 hover:text-blue-900 font-medium transition">Profile</a>
            </nav>
        </div>
        <nav id="mobileNav" class="md:hidden fixed top-0 left-0 w-full h-full bg-white/95 z-50 flex flex-col items-center pt-24 gap-8 text-xl font-medium text-blue-700 transition-all duration-300 -translate-y-full">
            <a href="index.html" class="hover:text-blue-900 transition">Home</a>
            <a href="content.html" class="hover:text-blue-900 transition">Content</a>
            <a href="videos.html" class="hover:text-blue-900 transition">Videos</a>
            <a href="profile.html" class="hover:text-blue-900 transition">Profile</a>
            <button id="closeMobileNav" class="absolute top-6 right-6 text-3xl text-blue-700" aria-label="Close menu">&times;</button>
        </nav>
        <div class="max-w-2xl mx-auto px-6 pb-4">
            <input
                type="text"
                id="searchInput"
                placeholder="Search songs..."
                class="w-full p-3 border border-blue-100 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
            />
        </div>
    </header>

    <main class="flex flex-col items-center justify-center py-10 px-5 gap-10 max-w-6xl mx-auto">
        <section class="flex flex-col items-center p-8 bg-gray-50 overflow-auto w-full max-w-4xl rounded-3xl shadow-xl border border-blue-100">
            <div class="flex flex-wrap items-baseline justify-center gap-x-4 gap-y-2 mb-4 text-center">
                <h1 class="text-4xl font-extrabold text-gray-900 leading-tight">Dirty Deeds Done Dirt Cheap</h1>
                <span class="text-xl font-bold text-gray-600">- AC/DC</span>
                <span class="px-3 py-1 bg-green-500 text-white rounded-full text-sm font-semibold ml-2">Beginner</span>
                <span class="px-3 py-1 bg-blue-600 text-white rounded-full text-sm font-semibold ml-2">Guitar</span>
            </div>
            
            <div class="text-gray-600 text-md mb-6 flex gap-4">
                <span><strong>Tuning:</strong> Standard (E A D G B E)</span>
                <span><strong>BPM:</strong> 130</span>
            </div>

            <div class="flex flex-col gap-4 mb-6 w-full max-w-3xl">
                <div class="flex flex-wrap justify-center items-center gap-4">
                    <button id="metronomeToggleBtn" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors shadow-md min-w-[150px]" aria-label="Start or Stop Metronome">Start Metronome</button>
                    
                    <button id="favBtn" 
                            class="bg-pink-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-pink-600 transition-colors shadow-md min-w-[150px] flex items-center justify-center gap-2"
                            data-title="Dirty Deeds Done Dirt Cheap"
                            data-link="dirty_deeds_done_dirt_cheap.html"
                            title="Add to favorites"
                            aria-label="Add to favorites">
                        <span id="favStar">☆</span>
                        Favorites
                    </button>
                </div>

                <div class="flex flex-wrap justify-center items-center gap-4 pt-2 border-t border-gray-200">
                    <button id="printTabBtn" class="bg-blue-100 text-blue-800 px-6 py-3 rounded-lg font-medium hover:bg-blue-200 transition-colors shadow-md" aria-label="Print tab">Print Tab</button>
                </div>
            </div>

            <div class="tab-container bg-gray-50 border border-gray-200 rounded-lg shadow-xl w-full max-w-3xl mb-8">
                <div id="fullTabCombined" class="tab-content">
                    <pre id="tabPreFull" class="p-6 text-base font-mono text-gray-800 bg-transparent m-0">
[Intro]
 
    E5       G5 E5      A5 E5       D5 E5
e|-------------------------------------------|
B|-----------3----------------------3--------|
G|-----------0----------2-----------2--------|
D|--2--------0--2-------2--2--------0--2-----| x4
A|--2--------x--2-------0--2-----------2-----|
E|--0--------3--0----------0-----------0-----|
 
 
[Verse]
 
     D5    E5
e|-----------------------------|
B|-----------------------------|
G|---7--7-s9--9----------------|
D|---7--7-s9--9----------------| x3
A|---5--5-s7--7----------------|
E|-----------------------------|
 
     D5    E5        D5    E5
e|--------------------------------|
B|--------------------------------|
G|---7--7-s9--9------7--7-s9--9---|
D|---7--7-s9--9------7--7-s9--9---|
A|---5--5-s7--7------5--5-s7--7---|
E|--------------------------------|
 
     D5    E5        D5
e|--------------------------|
B|--------------------------|
G|---7--7-s9--9------7--7---|
D|---7--7-s9--9------7--7---|
A|---5--5-s7--7------5--5---|
E|--------------------------|
 
     E5
e|-------------------|
B|-------------------|
G|---9--9--9--9--9---|
D|---9--9--9--9--9---|
A|---7--7--7--7--7---|
E|-------------------|
 
 
[Chorus]
 
    A5          G5 A5     E5         D5 E5
e|----------------------|--------------------|
B|--------------3-------|------------3-------|
G|--2--------2--0--2----|------------2-------|
D|--2--------2--0--2----|-2-------2--0--2----|
A|--0--------0--x--0----|-2-------2-----2----|
E|--------------3-------|-0-------0-----0----|
 
    A5          G5        E5
e|----------------------|--------------------|
B|--------------3-------|--------------------|
G|--2--------2--0--2----|--------------------|
D|--2--------2--0--2----|-2------------------|
A|--0--------0--x--0----|-2------------------|
E|--------------3-------|-0------------------|
 
 
[Verse]
 
     D5    E5
e|-----------------------------|
B|-----------------------------|
G|---7--7-s9--9----------------|
D|---7--7-s9--9----------------| x3
A|---5--5-s7--7----------------|
E|-----------------------------|
 
     D5    E5        D5    E5
e|--------------------------------|
B|--------------------------------|
G|---7--7-s9--9------7--7-s9--9---|
D|---7--7-s9--9------7--7-s9--9---|
A|---5--5-s7--7------5--5-s7--7---|
E|--------------------------------|
 
     D5    E5        D5
e|--------------------------|
B|--------------------------|
G|---7--7-s9--9------7--7---|
D|---7--7-s9--9------7--7---|
A|---5--5-s7--7------5--5---|
E|--------------------------|
 
     E5
e|-------------------|
B|-------------------|
G|---9--9--9--9--9---|
D|---9--9--9--9--9---|
A|---7--7--7--7--7---|
E|-------------------|
 
 
[Chorus]
 
    A5          G5 A5     E5         D5 E5
e|----------------------|--------------------|
B|--------------3-------|------------3-------|
G|--2--------2--0--2----|------------2-------|
D|--2--------2--0--2----|-2-------2--0--2----|
A|--0--------0--x--0----|-2-------2-----2----|
E|--------------3-------|-0-------0-----0----|
 
    A5          G5        E5
e|----------------------|--------------------|
B|--------------3-------|--------------------|
G|--2--------2--0--2----|--------------------|
D|--2--------2--0--2----|-2------------------|
A|--0--------0--x--0----|-2------------------|
E|--------------3-------|-0------------------|
 
 
[Solo]
 
(Lead Guitar)
 
e|-------------------2~~~-2--------------7~~~--|
B|--3--3---------------------5--3~~~~3---------|
G|-------4~~~~~~~~-----------------------------|
D|---------------------------------------------|
A|---------------------------------------------|
E|---------------------------------------------|
 
e|------------------------|
B|--0xx-xx-xx-xx-xx-xx----|
G|------------------------|
D|------------------------|
A|------------------------|
E|------------------------|
 
e|--7h10p7-----------------------------------|
B|---------9p7h9p7---------------------7b----|
G|-----------------9p7h9p7--------7h9--------|
D|-------------------------9p7h9-------------|
A|-------------------------------------------|
E|-------------------------------------------|
 
 
e|-7p4p0-7p4p0-7p4p0-7p4p0-7p4p0-7p4p0-7p4p0-7p4p0-|
B|-------------------------------------------------|
G|-------------------------------------------------|
D|-------------------------------------------------|
A|-------------------------------------------------|
E|-------------------------------------------------|
 
e|-8p5p0-8p5p0-8p5p0-8p5p0-8p5p0-8p5p0-8p5p0-8p5p0-|
B|-------------------------------------------------|
G|-------------------------------------------------|
D|-------------------------------------------------|
A|-------------------------------------------------|
E|-------------------------------------------------|
 
e|-9p6p0-9p6p0-9p6p0-9p6p0-9p6p0-9p6p0-9p6p0-9p6p0-|
B|-------------------------------------------------|
G|-------------------------------------------------|
D|-------------------------------------------------|
A|-------------------------------------------------|
E|-------------------------------------------------|
 
e|-10p7p0-10p7p0-10p7p0-10p7p0-10p7p0-10p7p0-10p7p0-10p7p0-|
B|---------------------------------------------------------|
G|---------------------------------------------------------|
D|---------------------------------------------------------|
A|---------------------------------------------------------|
E|---------------------------------------------------------|
 
e|-11p8p0-11p8p0-11p8p0-11p8p0-12p9p0-12p9p0-12p9p0-12p9p0-|
B|---------------------------------------------------------|
G|---------------------------------------------------------|
D|---------------------------------------------------------|
A|---------------------------------------------------------|
E|---------------------------------------------------------|
 
e|-13p10p0-13p10p0-13p10p0-13p10p0-14p11p0-14p11p0-14p11p0-14p11p0-|
B|-----------------------------------------------------------------|
G|-----------------------------------------------------------------|
D|-----------------------------------------------------------------|
A|-----------------------------------------------------------------|
E|-----------------------------------------------------------------|
 
e|-15p12p0-15p12p0-15p12p0-15p12p0-16p13p0-16p13p0-16p13p0-16p13p0-|
B|-----------------------------------------------------------------|
G|-----------------------------------------------------------------|
D|-----------------------------------------------------------------|
A|-----------------------------------------------------------------|
E|-----------------------------------------------------------------|
 
e|-17p14p0-17p14p0-17p14p0-17p14p0-17p14p0-17p14p0-17p14p0-17p14p0-|
B|-----------------------------------------------------------------|
G|-----------------------------------------------------------------|
D|-----------------------------------------------------------------|
A|-----------------------------------------------------------------|
E|-----------------------------------------------------------------|
 
e|-17b(19)~~~~~~~~~~~~~~~~~~~~~~~~~~~---|
B|--------------------------------------|
G|--------------------------------------|
D|--------------------------------------|
A|--------------------------------------|
E|--------------------------------------|
 
(Rhythm Guitar)
     B5         A5
e|------------------------|
B|------------------------|
G|---4----------2--2--2---|
D|---4----------2--2--2---| x3
A|---2----------0--0--0---|
E|------------------------|
 
     B5         D5
e|---------------------------|
B|--------------3--3--3--3---|
G|---4----------2--2--2--2---|
D|---4----------0--0--0--0---|
A|---2-----------------------|
E|---------------------------|
 
    E5       G5 E5      A5 E5       D5 E5
e|-------------------------------------------|
B|-----------3----------------------3--------|
G|-----------0----------2-----------2--------|
D|--2--------0--2-------2--2--------0--2-----| x2
A|--2--------x--2-------0--2-----------2-----|
E|--0--------3--0----------0-----------0-----|
 
 
[Verse]
 
     D5    E5
e|-----------------------------|
B|-----------------------------|
G|---7--7-s9--9----------------|
D|---7--7-s9--9----------------| x3
A|---5--5-s7--7----------------|
E|-----------------------------|
 
     D5    E5        D5    E5
e|--------------------------------|
B|--------------------------------|
G|---7--7-s9--9------7--7-s9--9---|
D|---7--7-s9--9------7--7-s9--9---|
A|---5--5-s7--7------5--5-s7--7---|
E|--------------------------------|
 
     D5    E5        D5
e|--------------------------|
B|--------------------------|
G|---7--7-s9--9------7--7---|
D|---7--7-s9--9------7--7---|
A|---5--5-s7--7------5--5---|
E|--------------------------|
 
     E5
e|-------------------|
B|-------------------|
G|---9--9--9--9--9---|
D|---9--9--9--9--9---|
A|---7--7--7--7--7---|
E|-------------------|
 
 
[Chorus]
 
    A5          G5 A5     E5         D5 E5
e|----------------------|--------------------|
B|--------------3-------|------------3-------|
G|--2--------2--0--2----|------------2-------|
D|--2--------2--0--2----|-2-------2--0--2----|
A|--0--------0--x--0----|-2-------2-----2----|
E|--------------3-------|-0-------0-----0----|
 
    A5          G5        E5
e|----------------------|--------------------|
B|--------------3-------|--------------------|
G|--2--------2--0--2----|--------------------|
D|--2--------2--0--2----|-2------------------|
A|--0--------0--x--0----|-2------------------|
E|--------------3-------|-0------------------|
 
 
[Outro]
 
    E5       G5 E5      A5 E5         D5 E5
e|-------------------------------------------|
B|-----------3-------------------------------|
G|-----------0----------2----------9--7--9---|
D|--2--------0--2-------2--2-------9--7--9---| x3
A|--2--------x--2-------0--2-------7--5--7---|
E|--0--------3--0----------0-----------------|
 
    E5       G5 E5      A5 E5         D5 E5
e|----------------------------------------------------------|
B|-----------3----------------------------------------------|
G|-----------0----------2----------9--7--9------------------|
D|--2--------0--2-------2--2-------9--7--9------------------|
A|--2--------x--2-------0--2-------7--5--7------------------|
E|--0--------3--0----------0--------------------------------|
 
 
***************************************
 
|  /   Slide up
|  s   Legato slide
|  h   Hammer-on
|  p   Pull-off
|  b   Bend
|  ~   Vibrato
|  x   Dead note
| (n)  Ghost note
 
***************************************
                    </pre>
                </div>
            </div>
            
            <div class="mt-6 text-center text-gray-600">
                <p>Learn more about this song on its
                    <a href="https://en.wikipedia.org/wiki/Dirty_Deeds_Done_Dirt_Cheap" class="text-blue-500 font-bold hover:underline" target="_blank">Wikipedia page</a>.
                </p>
            </div>
        </section>
    </main>

    <div id="searchModal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-11/12 md:w-1/2">
            <button id="closeModal" class="text-red-500 font-bold float-right text-xl">×</button>
            <h2 class="text-2xl font-semibold text-blue-700 mb-4">Search Results</h2>
            <div id="searchResults" class="flex flex-wrap justify-center gap-6">
                </div>
        </div>
    </div>

    <footer class="bg-white text-center py-4 mt-10 border-t border-gray-300">
        <p class="text-gray-600 text-sm">© 2025 The Sheet Music Directory. Created by Mattia Lobrano.</p>
        <nav class="mt-2">
            <a href="privacy.html" class="text-blue-500 text-sm hover:underline">Privacy Policy</a> |
            <a href="terms.html" class="text-blue-500 text-sm hover:underline">Terms and Conditions</a>
        </nav>
        <div class="mt-4 flex justify-center items-center gap-4">
            <a href="https://www.tiktok.com/@the_guitar_directory" target="_blank" class="flex items-center gap-2">
                <img src="tiktok.png" alt="TikTok" class="w-6 h-6">
                <span class="text-blue-500 text-sm hover:underline">Follow us on TikTok</span>
            </a>
        </div>
    </footer>

    <audio id="metronomeLoopAudio" src="click_130bpm_4-4time_501beats_CowEYq.mp3" loop preload="auto"></audio>

    <script>
        // --- DOM Element References ---
        const printTabBtn = document.getElementById('printTabBtn');
        const metronomeToggleBtn = document.getElementById('metronomeToggleBtn');
        const metronomeLoopAudio = document.getElementById('metronomeLoopAudio');
        let isMetronomePlaying = false;

        // Hamburger menu functionality
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileNav = document.getElementById('mobileNav');
        const closeMobileNav = document.getElementById('closeMobileNav');

        hamburgerBtn.addEventListener('click', () => {
            mobileNav.classList.remove('-translate-y-full');
            mobileNav.classList.add('translate-y-0');
        });

        closeMobileNav.addEventListener('click', () => {
            mobileNav.classList.remove('translate-y-0');
            mobileNav.classList.add('-translate-y-full');
        });

        // Search Modal Logic
        async function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchModal = document.getElementById('searchModal');
            const searchResults = document.getElementById('searchResults');
            const closeModal = document.getElementById('closeModal');

            closeModal.addEventListener('click', () => {
                searchModal.classList.add('hidden');
                searchResults.innerHTML = '';
            });

            searchInput.addEventListener('input', async () => {
                const keyword = searchInput.value.toLowerCase().trim();
                if (keyword === '') {
                    searchModal.classList.add('hidden');
                    return;
                }
                searchModal.classList.remove('hidden');
                searchResults.innerHTML = '';
                try {
                    // For simplicity and consistency, hardcode a small list of known songs for search
                    // In a real application, you might fetch this dynamically or from a global data source.
                    const allSongsForSearch = [
                        { title: "Bohemian Rhapsody", link: "bohemian_rhapsody.html" },
                        { title: "Back in Black", link: "back_in_black.html" },
                        { title: "Smells Like Teen Spirit", link: "smells_like_teen_spirit.html" },
                        { title: "Dirty Deeds Done Dirt Cheap", link: "dirty_deeds_done_dirt_cheap.html" },
                        { title: "Thunderstruck", link: "thunderstruck.html" },
                        // Add more songs here as you create their pages
                    ];

                    const filteredSongs = allSongsForSearch.filter(song =>
                        song.title.toLowerCase().includes(keyword)
                    );

                    if (filteredSongs.length > 0) {
                        filteredSongs.forEach(song => {
                            const songItem = document.createElement('div');
                            songItem.className = 'song-item flex flex-col items-center';
                            songItem.innerHTML = `
                                <p class="text-lg text-gray-700 mt-4 text-center">
                                    <a href="${song.link}" class="text-blue-700 hover:underline font-semibold">
                                        ${song.title}
                                    </a>
                                </p>
                            `;
                            searchResults.appendChild(songItem);
                        });
                    } else {
                        searchResults.innerHTML = '<p class="text-gray-700">No results found.</p>';
                    }
                } catch (error) {
                    console.error('Error fetching songs for search:', error);
                    searchResults.innerHTML = '<p class="text-red-500">Error loading search results.</p>';
                }
            });
        }
        document.addEventListener('DOMContentLoaded', setupSearch);

        // --- Simple MP3 Metronome Logic ---
        metronomeToggleBtn.addEventListener('click', () => {
            if (isMetronomePlaying) {
                metronomeLoopAudio.pause();
                metronomeLoopAudio.currentTime = 0; // Reset for next play
                metronomeToggleBtn.textContent = 'Start Metronome';
                metronomeToggleBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
                metronomeToggleBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
            } else {
                metronomeLoopAudio.play().catch(error => {
                    console.error("Metronome audio playback failed:", error);
                    alert("Impossibile avviare il metronomo. Assicurati che il file 'metronome_loop.mp3' sia presente e che il browser permetta l'autoplay.");
                });
                metronomeToggleBtn.textContent = 'Stop Metronome';
                metronomeToggleBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                metronomeToggleBtn.classList.add('bg-red-600', 'hover:bg-red-700');
            }
            isMetronomePlaying = !isMetronomePlaying;
        });

        // Print Tab button functionality
        printTabBtn.addEventListener('click', () => {
            window.print(); 
        });

        // --- Favorite Button Script ---
        function updateFavBtn() {
            const btn = document.getElementById('favBtn');
            const star = document.getElementById('favStar');
            let favs = [];
            try { favs = JSON.parse(localStorage.getItem('favoriteSongs') || '[]'); } catch { favs = []; }
            const exists = favs.some(s => s.link === btn.dataset.link);
            star.textContent = exists ? '★' : '☆'; // Filled star or outline star
            btn.title = exists ? "Remove from favorites" : "Add to favorites";
            btn.setAttribute('aria-label', btn.title);
        }

        document.getElementById('favBtn').onclick = function() {
            const btn = this;
            let favs = [];
            try { favs = JSON.parse(localStorage.getItem('favoriteSongs') || '[]'); } catch { favs = []; }
            const song = { title: btn.dataset.title, link: btn.dataset.link };
            const idx = favs.findIndex(s => s.link === song.link); // Check if song already exists

            if (idx === -1) {
                favs.push(song); // Add if not found
                alert(`${song.title} added to favorites!`);
            } else {
                favs.splice(idx, 1); // Remove if found
                alert(`${song.title} removed from favorites!`);
            }
            localStorage.setItem('favoriteSongs', JSON.stringify(favs));
            updateFavBtn(); // Update button state
        };

        // Initial setup for favorite button on page load
        document.addEventListener('DOMContentLoaded', updateFavBtn);

    </script>

</body>
</html>